<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>搜索 - 航空文化馆</title>
    <link rel="shortcut icon" sizes="512x512" href="./imgs/logo1.png" type="image/x-icon">
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/search.css">
</head>

<body>
    <!-- 如果results.length<2就加上autoContentHeight类 -->
    <!-- :class="'container' + (results.length<100?' autoContentHeight':'')" -->
    <!-- 好像不需要了，直接flex布局的css样式就搞定了 -->
    <div class="container autoContentHeight" id="search">
        <!-- 头部 -->
        <div class="header">
            <!-- logo，搜索，导航栏 -->
            <div class="logo">
                <a href="./index.html">
                    <img class="logo1" src="./imgs/logo1.png" alt="">
                    <img class="logo2" src="./imgs/logo2.png" alt="">
                </a>
            </div>
            <a class="search" href="./search.html"><img src="./imgs/搜索.svg" alt=""></a>
            <div class="nav">
                <ul>
                    <a href="./index.html"><li>首页</li></a>
                    <a href="./aerospace_history.html"><li>航空历史</li></a>
                    <a href="./main_model.html"><li>重要机型</li></a>
                    <a href="./China_aerospace.html"><li>中国航空</li></a>
                    <a href="./aerospace_figures.html"><li>航空英模</li></a>
                    <a href="./university_history.html"><li>航院校史</li></a>
                    <div class="slider"></div>
                </ul>
            </div>
        </div>

        <!-- 中间内容 -->
        <div class="content">
            <div class="main">
                <div class="search-wrap">
                    <ul>
                        <li>全部</li>
                        <li>全部</li>
                        <li>航空历史</li>
                        <li>重要机型</li>
                        <li>中国航空</li>
                        <li>航空英模</li>
                        <li>航院校史</li>
                        <div class="expand"></div>
                    </ul>
                    <input ref="inputRef" type="text" @keydown.enter="search" placeholder="请输入关键词">
                    <div ref="sBtnRef" @click="search" class="searchBtn"><img src="./imgs/搜索 blue.svg" alt=""></div>
                </div>
                <div class="results">
                    <div class="sum" v-show="value">相关结果约 <span>{{ results.length }}</span> 条</div>
                    <div class="result" v-for="(item,index) in results">
                        <a :href="item.route">
                            <div class="title" v-html="item.title"></div>
                        </a>

                        <div class="text" v-html="item.text"></div>

                        <a :href="item.route">
                        <div class="mark">{{item.mark}}</div>
                        </a>
                    </div>
                </div>

                <div @click="toTop" ref="toTopRef" class="toTop">
                    <img src="./imgs/飞机2.svg" alt="">
                </div>
            </div>
        </div>


        <!-- 页脚 -->
        <div class="footer">
            <div class="infos">
                <div class="info">
                    <p class="copyright">Copyright@2024 航空文化馆</p>
                    <p class="address">地址：河南郑州郑东新区文苑西路15号</p>
                    <p class="school">所属：郑州航空工业管理学院 龙子湖校区</p>
                </div>
                <div class="info middle">
                    <p class="mail">联系方式：xxxxxxx.@xx.com</p>
                    <p class="links">相关链接：
                        <a href="https://zua.edu.cn/" target="_blank">学校官网</a>
                    </p>
                </div>
                <div class="info codes">
                    <!-- <div class="code">
                                    <img src="./imgs/wx.png" alt="">
                                    <span>微信公众号</span>
                                </div> -->
                    <div class="code">
                        <img src="./imgs/wx.png" alt="">
                        <span>微信公众号</span>
                    </div>
                </div>
            </div>
        </div>
        <!-- 让vue不报错 -->
        <div id="models"></div>
        <div id="figures"></div>
    </div>

    <!-- 引入Vue，Ajax，jQuery -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="./js/jquery.min.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="./js/main_model.js"></script>
    <script src="./js/aerospace_figures.js"></script>
    <script>
        // 不足的点：没有保存页面状态，点击到其他页面，点击回来，数据就丢失了
        // 懒加载？这里应该还不需要做懒加载吧？

        // console.clear() //可以清空控制台输出
        let data = {}; // 存放所有的数据

        deal_Waterfall_Infos(figures); // 获取figures页面的数据
        deal_Waterfall_Infos(models); // 获取models页面的数据
        // 学院历史页面的数据
        let university = `郑州航空工业管理学院坐落在中国历史文化名城郑州市，地处华北平原南部，北临黄河，西依嵩山，交通便捷，是河南省唯一一所具有鲜明航空特色的全日制普通本科院校。学校始建于1949年，与共和国同龄，时称平原省立财经学校。1964年全国16所航空学校调整，更名郑州航空工业学校，1978年升格为郑州航空工业管理专科学校，1984年升格为郑州航空工业管理学院（本科），1989年获得学士学位授予权。先后隶属于航空工业部、航空航天工业部、中国航空工业总公司。1999年，学校隶属关系发生转变，由中国航空工业总公司主管转变为中央与地方共建，日常管理以河南省为主的办学体制。2009年，通过硕士单位立项建设评审，2013年，获批硕士学位授予单位。2017年，入选国家中西部高校基础能力建设工程规划高校。2017年12月，成为河南省人民政府与中国民用航空局共建高校，进入省部共建高校行列。2020年，入选河南省特色骨干学科建设高校。2021年，获批成为河南省博士学位一般立项建设单位。学校秉承“严谨、求实、开拓、进取”之校训，坚持“德育首位，教学中心，质量至上，育人为本”的办学理念，坚持面向航空航天产业、面向区域经济社会发展，坚持“办强航空航天类工科、办精传统经管类学科，构建以航空航天工科为主，多学科协调发展”的学科专业建设思路，确立了在航空工业管理和技术应用研究领域中的较强优势。学校占地1700余亩，建筑面积109万平方米，实验场所面积10.6万平方米。固定资产总值18.11亿多元，教学科研仪器设备总值3.8亿元。图书馆现有藏书263.8万册，电子图书58.03万册，电子期刊149.63万册，纸本期刊622种，中外文数据库36个。学校有工、管、文、理、经、法、艺、教八大学科门类。下设19个教学院（部），1个书院，1个中外合作办学机构——南乌拉尔学院，1个继续教育学院。现有7个一级硕士学位授权点，15个专业硕士学位授权点，2个省特色骨干学科群，1个省特需急需特色骨干学科群，3个省重点一级学科，4个省重点二级学科。现有65个本科招生专业，其中国家级特色专业3个，省级特色专业9个；国家级一流本科专业建设点13个，省级一流本科专业建设点12个，省级专业综合改革试点9个；国家级一流本科课程11门，省级一流本科课程72门。两项成果获高等教育（本科）国家级教学成果奖二等奖。学校面向全国31个省（区、市）招生，普通本科专业在河南省全部纳入一本批次招生，现有全日制本科生、研究生、留学生26120人。现有教职工2126人，其中副高级以上职称645人，具有博士学位的教师627人。教育部新世纪优秀人才1人，享受国务院特殊津贴专家7人，全国优秀教师4人，全国师德先进个人1人，全国高校辅导员年度人物1人，享受省政府特殊津贴专家2人，省学术技术带头人8人，省教学名师14人，省优秀教师15人，省师德先进个人7人，省先进教育工作者2人，省文明教师21人，省教育厅学术技术带头人59人，省高校青年骨干教师90人。学校现有省级科研实验平台43个，其中国家地方联合工程研究中心1个，省重点实验室2个，省国际联合实验室2个，省协同创新中心2个，省工程研究中心16个，省外籍科学家工作室2个，省工业设计中心1个，省创新协同平台2个，省创新实验室1个，省产业融合创新中心1个，省级研究中心3个，省软科学研究基地1个，省级人文社科重点研究基地3个，河南省十大新型品牌智库1个、河南省特色智库1个，河南省科技智库研究基地1个，河南省高等学校科技成果转化和技术转移基地1个，省级中华优秀传统文化传承基地1个，省级思政教学特色化研究中心1个。建立了无人机研究院、大数据科学研究院等跨学科科研平台。学校注重国际交流与合作，先后与美国、英国、法国、德国、波兰、韩国、坦桑尼亚等30多个国家的73所大学建立了友好合作关系，开展了多形式、深层次、宽领域的国际交流与合作。与英国高地与群岛大学、波兰华沙人文社科大学举办本科层次中外合作办学项目，实现了学校在中外合作办学领域项目和机构全覆盖；与坦桑尼亚多多马大学合作建立孔子学院，荣获全球“先进孔子学院”“公共外交工作先进单位”“中坦友好使者奖”等称号；建成省内首家法语联盟“郑州法语联盟”、ICAO/FIATA空运危险品培训分中心。学校培养符合新时代要求、理想信念坚定、理论基础扎实、实践能力突出、具有创新意识和创新能力的高素质复合型人才，是航空航天产业和区域经济社会发展的重要人才培养基地。近三年在中国国际“互联网+”大学生创新创业大赛、“挑战杯”全国大学生课外学术科技作品竞赛和“挑战杯”大学生创业计划竞赛中斩获国家级奖项19项，省级奖项221项。获批国家级和省级大学生创新创业训练计划163项。在全国大学生数学建模竞赛、全国大学生机械创新设计大赛等单项学科竞赛中获得省级以上奖励2000余项。郑航众创空间入选国家级众创空间备案名单，获批河南省首批创新创业教育实践基地建设高校，获批省级职业技能等级认定中心。建校以来，为国家培养20万余名各级各类人才。广大校友服务于航空航天、地方经济社会发展各个领域，做出了突出贡献，涌现出一批杰出代表，如河南省人大常委会原副主任徐济超，空军总后勤部原副部长张世杰，中国社会科学院学部委员杨圣明，中国航空工业集团公司原党组成员、副总经理、总会计师顾惠忠，中国石油天然气集团公司、中国航天科工集团公司原总会计师、党组成员刘跃珍，中国商用飞机有限责任公司原总会计师田民，国家国防科工局原副局长、国防科技工业科技委副主任张建华，中国西电集团有限公司原副总经理、总会计师赫连明利，中央纪委国家监委驻水利部纪检监察组组长、水利部党组成员王新哲，中国融通资产管理集团有限公司党组成员、总会计师李耀，中国电子科技集团有限公司党组成员、总会计师都本正等。近年来，学校荣获“全国民族团结进步模范集体”“河南省本科院校综合实力20强”“新中国成立70周年河南高等教育十大杰出贡献单位”“新中国成立70周年河南最具国内就业竞争力的高校”“河南高等教育十大榜样示范高校”“河南高等教育质量社会满意院校”“河南综合实力20强领军高校”“河南高等教育综合实力20强高校”“河南省首批新时代依法治校示范校”“河南省文明校园”“省级平安校园”“河南省学分制管理示范高校”“河南省国际化特色高校建设单位”“河南高校招生就业工作示范单位”“河南最具就业竞争力示范院校”等荣誉。学校高举中国特色社会主义伟大旗帜，坚持以习近平新时代中国特色社会主义思想为指导，全面贯彻党的教育方针，落实立德树人根本任务，坚持转型发展、特色发展、创新发展战略，坚持“1357”工作思路，锐意进取，勇毅前行，为早日建成特色鲜明、结构合理、创新开放、协调发展的高水平航空航天大学再谱新章！`
        data.university = {
            route: './university_history.html',
            mark: '航院校史',
            titleList: ['航院校史'],
            textList: [university]
        }
        // 中国航空页面的数据
        let chinaTitleList = ["拓路苍穹，中国航空大事记","涡轮风扇发动机","涡轮喷气发动机"]
        let chinaTextList = [
            '航空发动机被誉为“工业之花”，是一个国家科技、工业和国防实力的重要标志。中国航空发动机工业在一片空白的基础上发展起来，从最初的仿制函改进到可以独立设计制造高性能航空发动机，走过了一条布满荆棘的发展道路。1909年9月21日，第一架由中国自主研制并驾驶的飞机“冯如1号”试飞成功。1910年8月，中国第一个机场在南苑修建。1913年9月，中国第一所航空学校一北京南苑航空学校成立。1920年4月24日，中国第一条民用航线—京沪航线京津段试飞成功。1920年5月1日，中国最旱的民间航空团体一中华航空协会在北京成立。1927年1月1日，丁纪徐成为中国历史上第一个空中跳伞者。1928年10月10日，中国第一所民办航空学校——厦门民用航空学校成立。1929年6月6日，中国首次举办航空展览。1936年4月24日，中国第一座自行设计制造的风洞首次开车运转试验。1950年6月19日，人民空军第一支航空兵部队成立。1951年4月17日，重工业部航空工业局在沈阳成立。1954年7月25日，南昌飞机厂试制雅克 - 18(初教5)型教练机成功。1956年9月8日，中国第一种喷气式歼击机米格 - 17型(歼5)试制成功。1958年7月，中国自行设计制造的歼教1型喷气式教练机首飞成功。1959年9月30日，米格 - 19(歼6)歼击机首飞成功。1964年2月20日，中国航空学会在北京召开成立。1964年4月11日，“雷雳”1型空空导弹定型并投入批量生产。1964年9月，轰5型飞机在哈尔滨飞机厂试制成功。1966年1月17日，歼7型飞机首次试飞成功。1979年12月，新中国自行研制的歼8型高空高速歼击机设计定型。1980年4月8日，“霹雳”3型空空导弹设计定型并投入批量生产。1992年1月16日，直9型直升机首飞成功。1995年4月，中国第一架超声速无人驾驶飞机首飞成功。1998年3月，歼10型飞机首飞成功。1999年12月，歼11A型飞机首飞成功。2011年1月11日，中国第四代隐形战机歼20首飞成功。2017年5月5日，我国首款具有自主知识产权的干线民用飞机C919首飞成功。',
            '20世纪60年代初中国就展开了涡扇发动机的研制工作，但初期的几种型号均未完成研制全过程。在40年的苦苦等待之后，中国空军终于在21世纪初装备了自主研发制造的国产高性能涡扇发动机。研制二十年，遗憾未定型：涡扇6 涡扇6发动机是我国自行研制的第一种推重比为6—级的军用加力涡扇发动机。它是针对高空高速歼击机的技术要求而设计的。“文革”期间涡扇6研制进度受到一定影响，八十年代初期才达到设计指标。后因空军飞机研制计划的改变，涡扇一6失去使用对象，于1984年停止研制，总计生产12台。历时三十年，完成国产化：涡扇9 1975年12月13日，中、英双方签订“斯贝”MK202型发动机的引进合同，中国可以按许可证在国内生产组装该型发动机，即涡扇9发动机。2003年7月17日，国产化涡扇 - 9终于通过国产化工程技术鉴定，获准投入批量生产，被命名为“秦岭”。国产第三代战机的“心脏”：涡扇10 涡扇10系列发动机，是我国第一台自行研制的具有自主知识产权的大推力加力式涡轮风扇发动机，命名为“太行”。从20世纪80年代后期开始验证机研制，2006年3月24日正式设计定型。',
            '自1956年第一台涡喷5发动机在沈阳航空发动机厂仿制成功以来，中国航空发动机工业一直以仿制和改进为主，虽然也曾自行研制过几种发动机，但都因种种原因半途而废。2002年定型的“昆仑”发动机是中国第一个走完自行研制全过程的航空发动机，也使中国一跃成为继美、俄、英、法后第五大航空发动机生产国。首台国产涡喷发动机：涡喷5 涡喷5是一种离心式单转子带加力式航空发动机，属于第一代喷气发动机。1956年6月，投入批量生产，1985年停产，主要用于米格 - 15系列和国产歼5系列战斗机。涡喷5发动机的研制成功，标志着中国航空发动机工业已从制造活塞式发动机时代发展到了喷气式发动机的时代，成为了当时世界上为数不多的几个可以批量生产喷气式发动机的国家之一。生产数量最多的国产涡喷发动机：涡喷6 涡喷8于1959年7月定型，是中国首型超音速航空发动机，属于轴流式单转子带加力燃烧室的涡轮喷气发动机。涡喷6系列发动机是产量最大国产航空发动机，总产量高达29316台，主要用于歼6系列和强5系列国产战机，目前仍有相当数量在役。性能最先进的国产涡喷发动机：涡喷14 涡喷14于2002年5月定型，是国内目前最先进的中等推力级的军用涡喷发动机，主要用于歼 - 8H / F / G系列战机。涡喷14发动机在性能和寿命方面仍有发展潜力，其发展型可满足中国空军对中等偏大推力级涡喷发动机的需求。'
        ]
        data.china = {
            route: './China_aerospace.html',
            mark: '中国航空',
            titleList: chinaTitleList,
            textList: chinaTextList
        }

        // 航空历史页面的数据   
        let worldTitleList = ["功炳天疆，世界航空大事记","飞行的探索时期","活塞发动机飞行时期","喷气飞机时期","军事理论对航空发展的影响"]
        let worldTextList = [
            '1903年12月17日，莱特兄弟制作的“飞行者1号”试飞成功。1909年11月16日，第一家商业性民用航空运输公司—德国航空运输有限公司成立。1919年6月25日，第一架全金店客机德国容克公司的F13首春。1927年5月20日，飞行探险家林白成为飞越大西洋世界第一人。1938年6月26日，第一架实用直升机FW61首飞。1942年7月，世界第一种实用性项气式飞机Me262首飞成功。1947年10月14日，耶格尔首次实现突磁春障飞行。1956年9月27日，阿普特首次突破“热障”飞行。1968年12月31日，超声速客机用 - 144首飞成功。1970年1月22日，世界最大宽体客机波音747首航。1999年3月21日，人类首次乘坐热气球完成不向断环球飞行。2016年7月6日，全球最大太阳能动力飞机“阳光动力2号”完成环球飞行。2018年3月16日，波音738MAX7完成首飞。',
            '人类对飞行的最初探索 中世纪妃，欧洲不断有人对飞行作出勇敢的尝试，她们以羽毛制翅膀，从高地跳下，试图模仿鸟的飞行，但多以失败告经。在很长的一段时间内，人类对飞行的探索进展缓慢，文艺复兴时期的莱品纳多·达芬奇关于飞行的研究成果直至9世纪后期才为后人发现，对航空业的发展未起到应有的作用，气球飞行成功 中国早在五代时用（公元907一980年）就使用过原始的热气球（孔明灯）。1783年，法国人象哥尔赛兄弟首次制造成功载人气球，引起轰动。同年11月21日，F.P.罗齐埃与M.达尔朗愿乘坐松气球、在约1000米高空上飞行2分钟，约12公里，这是人类第一次乘却空器的空中航行。 法国物理学家燕理运用热气球原理。用涂以檐胶的鞋制成氢气球。改变了人们委气球飞行的方式。1786年1月7日，法国人市朗夏尔等人乘氢气球自英国多佛起飞井飞越英吉利海峡，到达法国。此后，自18世纪未至19世纪初，气球开始广泛用于军事、体育运动和科学实验。飞艇的兴衰 最华的飞艇是法国人亨利·吉法尔于1852年制成的气囊形如雪茄，下是吊龙，上装蒸汽机作为动力，带动3叶蝶旋桨，并有方向蛇。1800年，德国的费进南·冯·齐伯林妇鬲制臧硬式飞艇，井于1909年创立德国航空运指有限公司，在法兰克福、巴登、杜塞多夫之间定期载客飞行，这就是最军的室中定斯航线。 一战前后是飞艇发展的同盛时期。德国建立齐柏林飞艇队，用于海上巡逻、远程轰炸及空运恶军事活动，进多次对伦摹进行聂炸。1837年5月，兴登堡号飞艇由于尾黄失火蔓斑全骶，造感37人死亡，飞艇的新业肌行至此结束。对飞机的探索和试验 人类利用轻于空气的航室器成功玉行的同时，许多航空先软对重于空气的航空器也在进行探索和试验: 1809年，英国人乔治·凯利提出“全邵问题是如何应用足以抵抗空气阻力的动力来使翼面支持一定的重量”。揭示动力飞行的基本原理。1891年，德国人李林达尔首创骨团机。1903年12月17日，莱特兄弟制装的旁一架飞机“飞行者1号”在美由北卡莱罗纳州试飞成功，买现了人类第一次重于空气飞行器的有动力飞行。',
            '飞机飞行成功和初步进展20世纪初，欧洲各国也在积极从事飞机的研究。1909年7月25日，法国人路易斯·布莱里奥驾驶自己设计的“布莱里奥”Xl号单翼机，首次飞越了英吉利海峡，在37分钟内飞行约40公里，这是最早的飞机国际飞行。 1913年2月25日，俄国人伊戈尔·伊万诺维奇·西科尔斯基设计的大型飞机“俄罗斯勇士”号首次飞行成功，此后在第一次世界大战中被改进为“伊利亚·穆罗梅茨”重型轰炸机。1901年, 北卡罗策纳州飞行员正在试鹫滑翔机 1908年, 法国的滑翔翼飞机 1909年7月, 法国航空先驱路葛斯·布莱里奥特坐在自己的飞机上留影 飞机在第一次世界大战中的应用 第一次世界大战爆发后，飞机开始大规模用于军事目的，并从最初单纯用于侦查，逐渐发展出用于驱逐敌机的驱逐机，以及轰炸机和强击机等。 第一次世界大战肯定了飞机在军事上的优势，战争由平面向立体转化。1917年10月11日，英国皇家飞行团成立, 次年发展为英国皇家空军，这也是世界上第一支独立的空军。飞机民用运输的创建 一战后，大批飞行员退役, 过剩的军用飞机被大量转至民用领域，民用航空运输得以发展。德国首先在1919年2月建立国内航线，同年8月，英法建立了国际定期空中客运航线, 逐步形成航空运输网。1920年，英国亨德利 - 佩奇公司制造出能载12名乘客的双发动机旅客机。20世纪30年代, 为提高飞行速度, 更为先进的波音247、DC - 3客机先后问世。波音247客机 20世纪20年代。民航爆炸增长时期的道格拉斯DC - 3飞机 航空科学技术的进步 从20世纪初至第二次世界大战期间, 空气动力学发展迅速。1904年, 德国物理学家路德维希·普朗特首先提出了边界层概念，并在1908年建造了世界第一个回流式风洞。1918年苏联创建中央流体动力研究院，英、法等国也相继成立航空科学研究机构。 在此期间，飞机设计得以改良，现代客机的主要特征逐渐体现。1933年后, 双翼机逐渐被单翼机替代。30年代末, 美国的星型气冷活塞式发动机得到广泛使用，民航飞机已普遍采用无线电导航。直升机和旋翼机在两次大战之间获得改进，到1939年渐趋成熟。1917年, 史密森学会公开展示飞行原理 1929年2月5日, 美囿研制的无线电接收装置 1930年, 克利夫兰第一台无线电装置控制塔 第二次世界大战中的军用飞机 第二次世界大战中, 空军已成为重要的军种，参战飞机数量大, 种类多。德国的Me108，英国的“隐风”和“喷火”，苏联的米格 - 3，美国的P - 47、P - 51都是二战期间非常有名的战斗机。 此外, 二战期间的明星机型还包括以装甲牲能好、火力强闻名的苏联伊尔 - 2强击机，以及腑冲轰炸时可以发出尖锐喘声霞慑对手的德国容克公司的J87轰炸机二战中, 最重、最大的作战飞机是美国的四发动机勇型轰炸机日 - 29“超级空中垫”，1845年8月8日、9日，分别在日本广岛、长喷投下原子弹, 加速了二战结束',
            '喷气飞机的诞生和突破音障 二十世纪30年代后期，活塞发动机螺旋桨飞机的性能已经接近极限, 要想继续提升X行器的性能, 必须有更先进的动力系统、在这种情况下, 涡驼喷气发动机和喷气飞机应运而生。德国汉斯·冯·奥海因在1937年3月研制成功HeS - 3B轴流式圜气发动机。1938年8月27日装有此发动机的He一178飞机试飞成功, 成为世界上第一架成功飞行的喷气飞机。1947年10月14日，美国X一1火箭试验研究机在12800米高空达到1078公里 / 时的速度，标志着人类正式进入超声速飞行时代。喷气军用飞机的发展 1959年，美国研制的高超声速研究机X - 15实现首次动力飞行，解决了困扰已久的热障问题。80年代，变后掠机翼和垂直起落技术大大提升飞机综合性能，美国研制的F - 111成为世界第一种投入实用的变后掠机冀飞机。喷气民航飞机的发展 第一架纯涡轮喷气发动机的民航客机是英国的“替星”号，于1952年5月2日投入使用。此后苏联研制的图104、美国的波音707、DC - 8和康维尔880 / 990，成为第一代喷气民航机的代表。1958年10月26日，波音707客机正式投入使用，开启了民航发展的新时代。1942年10月，C - 47运输机的安装现场 1969年3月，加利福尼亚航空公司的第一代波音737客机',
            '20世纪80年代初，以美苏为代表的国家,开始探索航空装备、航空技术的信息化进程,“空地一体战”战略已具雏形,并影响至今。'
        ]
        data.world = {
            route: './aerospace_history.html',
            mark:'航空历史',
            titleList: worldTitleList,
            textList: worldTextList
        }

        // console.log(data);

        let searchVM = new Vue({
            el: '#search',
            data:{
                type:'全部', // 搜索种类，默认为全部 // 用于搜索
                value:'', // 搜索的值
                results: [ // 搜索结果 , 搜索结果总数直接获取results.length
                    
                ],
            },
            mounted(){
                let that = this;
                // 搜索种类选择
                $(".search-wrap ul li").click(function () {
                    that.type = $(this).text();
                    console.log('点击事件更改that.type',that.type);
                    $(".search-wrap ul li").eq(0).text(that.type);
                });
                // 滚动事件，回到顶部按钮显现
                $(window).scroll(function () { 
                    let st = $("html,body").scrollTop() // 页面顶部被卷入的高度
                    // 大于六百，让回到顶部按钮显现
                    if(st >= 600){
                        that.$refs.toTopRef.style.display = 'block';
                    }else{
                        that.$refs.toTopRef.style.display = 'none';
                    }
                });
            },
            methods:{
                // 回到顶部，附带动画处理
                toTop(){
                    $("html, body").animate(
                        { scrollTop: "0" }, 
                        300
                    );
                },
                search(){ // 需要做一个节流，2s内只能搜索一次这样？
                    // console.log('搜索');
                    this.value = this.$refs.inputRef.value.trim(); // 获取输入的值
                    // console.log(this.value); 
                    if(this.value === ''){ // 空白字符输入直接返回
                        return;
                    }
                    // return this.search_s() || this.search_r(); // 严格搜索返回为false 则 触发宽松搜索 ， 且是尾调用
                    return this.search_s()
                },
                // 严格搜索 -- 直接拿全值去匹配
                search_s(){
                    // console.log('严格搜索data');
                    this.results = []; // 清空结果
                    // console.log(Object.values(data));
                    let regex = new RegExp(this.value, 'ig'); // 匹配模式，忽略大小写，全局匹配
                    let re = `<span style="color:red;">${this.value}</span>` // 替换成的值
                    let l = this.value.length; // 匹配内容长度，用于判断显示长度
                    let l_re = re.length // 拿到替换的值的长度，要是匹配内容过长，没有全部添加，加红会失效
                    let data_S = Object.values(data);
                    // console.log(regex);
                    if(this.type != '全部'){
                        data_S = data_S.filter(item=>item.mark === this.type);
                    }
                    // console.log('type', this.type);

                    // 拿item的titleList 和 textList去搜索
                    // 一个item就是一个页面的数据
                    for(let item of data_S){
                        let match_title_list = {}; //保存匹配到内容的索引值，因为title匹配到，还要再匹配text，最后一起添加
                        // 匹配text时候
                        // 匹配成功：判断一下有没有对应索引属性的值，如果有，则只添加text，没有就添加text 和 对应索引title
                        // 匹配失败，同样判断，如果有，把text添加一下，到this.results中

                        // 一个item就是一个页面的数据
                        // console.log(item);
                        // 先处理一下title
                        // 遍历每个页面的titleList数据，拿到每个title，用正则匹配，如果匹配到，就替换成加红的样式
                        item.titleList.forEach((title, index)=>{
                            let i = title.replace(regex, re); // 标题比较短，直接替换
                            if(i !== title){ // 返回的字符串变了，说明被替换了
                                match_title_list[index] = i // 将 索引：替换后的title 的键值对存到match_title_list中
                            }
                        })
                        // 再处理一下text
                        // 无论有没有查询到搜索值，都准备好截取的字符串，用于最后处理
                        item.textList.forEach((text, index) => {
                            let i = text.search(regex, re); // 先拿到索引，用于添加数据 // 只会返回第一个查找到的索引
                            // 加到内容上的时候，全部加上，但是加个超过多少长度变……的样式即可
                            let newText = text.replace(regex, re); 
                            let textValue = '' // 最终保存的数据值
                            let titleValue = '' // 保存的title值

                            // 匹配text时候
                            // 匹配成功：判断一下 match_title_list对象中 有没有对应索引属性的值，如果有，取出来一块添加到this.results中，没有就添加text 和 对应索引title
                            // 匹配失败，同样判断，如果有，把text和match_title_list对象中的title 添加到this.results中
                            if (i !== -1) { // 查询到了
                                // 截取匹配到的内容长度，不能超过240字（66字/行）
                                // 1. 判断长度
                                if(text.length<=200){
                                    // 直接添加进去
                                    textValue = newText;
                                }else if( i + l_re <= 100 ){ // 在开头100字范围内，直接从开头截取
                                    textValue = newText.slice(0, 240);
                                }else{ // 在开头100字范围外，截取前面一个。或 空格 位置开始往后显示两百字
                                    // 获取前面一个空格的位置
                                    let space = text.lastIndexOf(' ',i); // 从查询到的位置往前查找第一个空格的位置
                                    // 获取前面一个。的位置 
                                    let dot = text.lastIndexOf('。',i);
                                    // 比较哪个大，取那个
                                    let start = space > dot ? space : dot + 1;
                                    if(start === -1){ // 前面没有空格和点，从开头开始截取
                                        start = 0
                                    }
                                    // 判断 开始截取的位置，到字符串的长度的位置，是否不超过200字符
                                    let valueL = i - start + l_re; // 截取的字符串到匹配内容位置的长度
                                    if(valueL <= 200){
                                        textValue = newText.slice(start, start + 240);
                                    }else{ // 超过200了，可能会丢失掉匹配内容，让匹配内容处于中间位置
                                        textValue = newText.slice(i-100, i + 140);
                                    }
                                }

                                // 得到了截取的字符串，判断一下对应的索引值有没有在match_title_list中
                                if (match_title_list[index]) { // 有值
                                    titleValue = match_title_list[index];
                                } else { // 没值
                                    titleValue = item.titleList[index];
                                }
                                this.results.push({
                                    route: item.route,
                                    title: titleValue,
                                    text: textValue,
                                    mark: item.mark
                                })
                            }else{ // 没有查询到，// 如果match_title_list有值,同样要存到results去
                                textValue = text.slice(0, 240); // 截取对应内容的240个字符
                                if (match_title_list[index]) { 
                                    titleValue = match_title_list[index];
                                    this.results.push({
                                        route: item.route,
                                        title: titleValue,
                                        text: textValue,
                                        mark: item.mark
                                    })
                                }
                            }
                        })
                    }
                    // return true; // 有结果
                },
                // 宽松搜索 -- 全值匹配得不到结果，会进行宽松搜索，返回可能在查找的值 // 开启搜索范围为全部？，还是不要这个了
                // 不写这个了，没必要
                // search_r(){
                //     // console.log('宽松搜索data');
                // }
            }
        })

        //unit为vue组件名
        function deal_Waterfall_Infos(unit) {//瀑布流两个页面的数据处理
            let infos = unit[unit.name];
            let textList = [];
            let titleList = [];
            let textItem = '';
            let marks = {
                figures: '航空英模',
                models: '重要机型'
            }
            let mark = marks[unit.name]

            for (let property in infos) {
                textItem = '';
                // console.log(property);
                // console.log(infos[property]);
                // console.log(infos[property].title);
                // console.log(infos[property].text);
                infos[property].text.forEach((text) => {
                    textItem += text;
                })
                titleList.push(infos[property].title);
                textList.push(textItem);
            }
            // console.log("==========");
            // console.log(titleList);
            // console.log(textList);
            data[unit.name] = {
                route: unit.route,
                mark,
                titleList,
                textList,
            }
        }
    </script>
</body>

</html>